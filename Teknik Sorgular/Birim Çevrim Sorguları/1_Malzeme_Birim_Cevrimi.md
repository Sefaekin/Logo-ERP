-------------------------------------------------------
------ 1.MALZEME BIRIM CEVRIM BILGILERINI DUZELTIR ----
-------------------------------------------------------
SET NOCOUNT ON
DECLARE @LOGICALREF INT, @UNITSETREF INT, 
	@LINENR  SMALLINT,  @CONVFACT1 FLOAT, @CONVFACT2  FLOAT, 
	@WIDTH  FLOAT, @LENGTH  FLOAT, @HEIGHT  FLOAT, @AREA  FLOAT, 
	@VOLUME_  FLOAT, @WEIGHT  FLOAT, @WIDTHREF  INT, @LENGTHREF  INT, 
	@HEIGHTREF  INT, @AREAREF  INT, @VOLUMEREF  INT, @WEIGHTREF  INT
DECLARE Kur CURSOR FOR
SELECT 
	LOGICALREF, UNITSETREF, 
	LINENR,  CONVFACT1, CONVFACT2, 
	WIDTH, LENGTH, HEIGHT, AREA, 
	VOLUME_, WEIGHT, WIDTHREF, LENGTHREF, 
	HEIGHTREF, AREAREF, VOLUMEREF, WEIGHTREF 
FROM 	LG_501_UNITSETL
OPEN Kur
FETCH NEXT FROM Kur
	into 	@LOGICALREF, @UNITSETREF, @LINENR,  @CONVFACT1, @CONVFACT2, 
	@WIDTH, @LENGTH, @HEIGHT, @AREA, @VOLUME_, @WEIGHT, @WIDTHREF, @LENGTHREF, 
	@HEIGHTREF, @AREAREF, @VOLUMEREF, @WEIGHTREF 
WHILE @@FETCH_STATUS = 0
	BEGIN
SET ROWCOUNT 0
UPDATE 	LG_501_ITMUNITA 
SET 	CONVFACT1 = @CONVFACT1, CONVFACT2 = @CONVFACT2, 
	WIDTH = @WIDTH, LENGTH = @LENGTH, HEIGHT = @HEIGHT,  
	AREA = @AREA, VOLUME_ = @VOLUME_ , WEIGHT = @WEIGHT, 
	WIDTHREF = @WIDTHREF, LENGTHREF = @LENGTHREF,   
	HEIGHTREF = @HEIGHTREF, AREAREF = @AREAREF, 
	VOLUMEREF = @VOLUMEREF, WEIGHTREF  = @WEIGHTREF,
	GROSSVOLREF = @VOLUMEREF, GROSSWGHTREF  = @WEIGHTREF,
	GROSSVOLUME = @VOLUME_ , GROSSWEIGHT = @WEIGHT
WHERE UNITLINEREF = @LOGICALREF AND LINENR=@LINENR
	FETCH NEXT FROM Kur
	into 	@LOGICALREF, @UNITSETREF, @LINENR,  @CONVFACT1, @CONVFACT2, 
	@WIDTH, @LENGTH, @HEIGHT, @AREA, @VOLUME_, @WEIGHT, @WIDTHREF, @LENGTHREF, 
	@HEIGHTREF, @AREAREF, @VOLUMEREF, @WEIGHTREF 
	END
CLOSE Kur
DEALLOCATE Kur
